/* SPT */!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AutoTrack=e():t.AutoTrack=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=98)}([function(t,e,n){"use strict";function i(t,e,n){var i,r=1;if(!t||"number"!=typeof t)throw new Error("times required");if(!e||"function"!=typeof e)throw new Error("task required");if(!n||"function"!=typeof n)throw new Error("callback required");i=function(){arguments[0]&&r>=t?n.apply(null,arguments):arguments[0]?(r+=1,e(i)):n.apply(null,arguments)},e(i)}function r(){var t,e;return"undefined"!=typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),t+"x"+e}function o(){var t;return navigator.userLanguage?t=navigator.userLanguage:navigator.language&&(t=navigator.language),t}function s(t){var e={mobile:["iPhone;","iPod;","iPod touch;","^HTC","Fennec","IEMobile","BB10;","BlackBerry","SymbianOS.*AppleWebKit","^Mozilla.*Mobile.*Firefox","^Mozilla.*Chrome.*Mobile","Opera Mobi","Android.*Mobile","Android.*Mini","Symbian","^SonyEricsson","^Nokia","^SAMSUNG","^LG"],tablet:["iPad;","Android"]},n=function(e){var n,i=0;for(i;i<e.length;i++)if(n=e[i],t.match(new RegExp(n)))return!0;return!1};if(t){if(n(e.mobile))return"mobile";if(n(e.tablet))return"tablet"}return"desktop"}function a(){var t=new Date,e=-t.getTimezoneOffset(),n=e>=0?"+":"-",i=function(t){var e=Math.abs(Math.floor(t));return(e<10?"0":"")+e},r=t.getFullYear()+"-"+i(t.getMonth()+1)+"-"+i(t.getDate());return r=r+"T"+i(t.getHours())+":"+i(t.getMinutes()),r=r+":"+i(t.getSeconds()),r=r+n+i(e/60)+":"+i(e%60)}function u(){var t,e,n="",i=function(){return window.crypto?window.crypto.getRandomValues(new Uint8Array(1))[0]/256:Math.random()};for(e=0;e<36;e++)t=14===e?4:19===e?Math.floor(4*i()+8).toString(16):8===e||13===e||18===e||23===e?"-":Math.floor(16*i()).toString(16),n+=t;return n}function c(t){var e,n,i=[],r=location.search,o=r.split("&"),s=new RegExp(t+"=([^&;]+?)(&|#|;|$)","i");for(n=0;n<o.length;n++)e=o[n].match(s),e&&i.push(e[1]);return i}function d(){return(Math.floor(window.pageYOffset)||document.scrollTop||0)-(document.clientTop||0)}function l(){var t,e,n;if(!window.performance)return null;t=window.performance.timing.domLoading,e=(new Date).getTime();try{n=e-t}catch(t){n=null}return n}function p(){localStorage.setItem("pulse2-val","check"),localStorage.removeItem("pulse2-val")}function h(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){var e,n,i=Object.prototype.hasOwnProperty,r=!{toString:null}.propertyIsEnumerable("toString"),o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=o.length,a=[];if("object"!==("undefined"==typeof t?"undefined":C(t))&&("function"!=typeof t||null===t))throw new TypeError("Object.keys called on non-object");for(e in t)i.call(t,e)&&a.push(e);if(r)for(n=0;n<s;n++)i.call(t,o[n])&&a.push(o[n]);return a}function g(){return(new Date).getTime()}function v(t){var e=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1;return e}function y(t,e){var n=t+"=";e&&(n+=";domain="+e,n+=";path=/"),n+=";expires=Thu, 01 Jan 1970 00:00:01 GMT",document.cookie=n}function m(t,e,n,i){var r;r=t+"="+e,r+=";domain="+n,r+=";path=/",r+=";expires="+i,document.cookie=r}function b(t){return"m.finn.no"===t?"finn.no":t.replace(/^www\./,"")}function w(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function I(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n)}function j(t){return"string"==typeof t&&t.indexOf("sdrn:")===-1?t.replace(/:/g,"%3A"):t}function S(t){return t&&"string"==typeof t?"ClassifiedAd"===t?"classified":"NotificationContent"===t?"notification":t.toLowerCase():t}function k(t,e,n){var i=j(n),r=S(j(e));if(t=j(t),0===String(t).indexOf("sdrn:"))return t;if(!t)throw new Error("`clientId` is required");if(!e)throw new Error("`contentType` is required");if(!n)throw new Error("`targetId` is required");return"sdrn:"+t+":"+r+":"+i}function O(t){return t<10?"0"+t:t}function T(t){return t.getUTCFullYear()+"-"+O(t.getUTCMonth()+1)+"-"+O(t.getUTCDate())+"T"+O(t.getUTCHours())+":"+O(t.getUTCMinutes())+":"+O(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}function E(t){var e=document.createElement("a");return e.setAttribute("href",t),e.hostname}function x(t,e,n){if(!t[e])throw new Error((n||e)+" is required")}Object.defineProperty(e,"__esModule",{value:!0});var C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.retry=i,e.getViewportDimensions=r,e.getDeviceLanguage=o,e.getDeviceType=s,e.getTimestamp=a,e.getUuidV4=u,e.getUrlParams=c,e.getScrollPosition=d,e.getViewDuration=l,e.checkLocalStorage=p,e.isArray=h,e.objectKeys=f,e.dateNow=g,e.getCookie=v,e.deleteCookie=y,e.writeCookie=m,e.broadenDomain=b,e.bind=w,e.unbind=I,e.getSdrnIdWithContentType=k,e.dateToISO=T,e.getDomainFromUrl=E,e.requiredAttribute=x},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e?console.log:a)(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.debug=r;var o=n(44),s=i(o),a=(0,s.default)("spt:pulse")},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e,n){(function(e){function n(){return Object.assign?Object.assign:function(t,e,n,i){for(var r=1;r<arguments.length;r++)a(Object(arguments[r]),function(e,n){t[n]=e});return t}}function i(){function t(){}return Object.create?function(t,e,n,i){var r=s(arguments,1);return h.apply(this,[Object.create(t)].concat(r))}:function(e,n,i,r){var o=s(arguments,1);return t.prototype=e,h.apply(this,[new t].concat(o))}}function r(){return String.prototype.trim?function(t){return String.prototype.trim.call(t)}:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function o(t,e){return function(){return e.apply(t,Array.prototype.slice.call(arguments,0))}}function s(t,e){return Array.prototype.slice.call(t,e||0)}function a(t,e){c(t,function(t,n){return e(t,n),!1})}function u(t,e){var n=d(t)?[]:{};return c(t,function(t,i){return n[i]=e(t,i),!1}),n}function c(t,e){if(d(t)){for(var n=0;n<t.length;n++)if(e(t[n],n))return t[n]}else for(var i in t)if(t.hasOwnProperty(i)&&e(t[i],i))return t[i]}function d(t){return null!=t&&"function"!=typeof t&&"number"==typeof t.length}function l(t){return t&&"[object Function]"==={}.toString.call(t)}function p(t){return t&&"[object Object]"==={}.toString.call(t)}var h=n(),f=i(),g=r(),v="undefined"!=typeof window?window:e;t.exports={assign:h,create:f,trim:g,bind:o,slice:s,each:a,map:u,pluck:c,isList:d,isFunction:l,isObject:p,Global:v}}).call(e,n(30))},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var i=n(4),r=n(2),o=n(22),s=n(77),a=n(19),u="prototype",c=function(t,e,n){var d,l,p,h,f=t&c.F,g=t&c.G,v=t&c.S,y=t&c.P,m=t&c.B,b=g?i:v?i[e]||(i[e]={}):(i[e]||{})[u],w=g?r:r[e]||(r[e]={}),I=w[u]||(w[u]={});g&&(n=e);for(d in n)l=!f&&b&&void 0!==b[d],p=(l?b:n)[d],h=m&&l?a(p,i):y&&"function"==typeof p?a(Function.call,p):p,b&&s(b,d,p,t&c.U),w[d]!=p&&o(w,d,h),y&&I[d]!=p&&(I[d]=p)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(52);Object.keys(i).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})})},function(t,e,n){"use strict";function i(){}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0);i.prototype.getUrlWithCorrectProtocol=function(t){var e=t.split("://");return"//"+e.pop()},i.prototype.getXHR=function(t,e,n){var i;return"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open(e.toLowerCase(),this.getUrlWithCorrectProtocol(n)),i):(i=new XMLHttpRequest,"withCredentials"in i&&(i.open(e,n),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),t&&(i.withCredentials=!0),i))},i.prototype.addDataToUrl=function(t,e){var n,i;if(!e||"object"!==("undefined"==typeof e?"undefined":r(e)))return t;for(n=(0,o.objectKeys)(e);n&&"object"===r(e[n[0]]);)n.shift();for(t=this.appendParameterToUrl(t,n[0],e[n[0]],"?"),i=1;i<n.length;i++)t=this.appendParameterToUrl(t,n[i],e[n[i]],"&");return t},i.prototype.appendParameterToUrl=function(t,e,n,i){return"object"!==("undefined"==typeof n?"undefined":r(n))?t+i+encodeURIComponent(e)+"="+encodeURIComponent(n):t},i.prototype.post=function(t,e,n,i,o){return t?e&&"object"===("undefined"==typeof e?"undefined":r(e))?(i=i||!1,void this.send(t,e,n,i,o,"POST")):n("data required"):n("url required")},i.prototype.get=function(t,e,n,i,r){return t?(e&&(t=this.addDataToUrl(t,e)),void this.send(t,e,n,r,i,"GET")):n("url required")},i.prototype.send=function(t,e,n,i,r,s){var a=this;if(!n)throw new Error("callback required");r=r||3,(0,o.retry)(r,function(n){var r=a.getXHR(i,s,t);if(r||n("Failed to identify request method"),"undefined"!=typeof XDomainRequest?(r.onload=function(){n(null,r)},r.onprogress=function(){},r.onerror=function(){n("Failed request"),r.abort()},r.ontimeout=r.onerror):r.onreadystatechange=function(){4===r.readyState&&(200===r.status?n(null,r):n("Failed with status "+r.status))},"POST"===s)try{r.send(JSON.stringify(e))}catch(t){n(t.name+": "+t.message)}else if("GET"===s)try{r.send()}catch(t){n(t)}},n)},e.default=i},function(t,e,n){t.exports=!n(7)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(18);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return t=t?(new Date).getTime(t):(new Date).getTime(),Math.round(t/1e3)}function o(t,e){var n=this;if(e=e||{},!t)throw new Error("activity is required");this.activity=t,this.initialTimeInMs=Date.now(),this.pageViewId=e.pageViewId,this.device=e.device,this.group=e.group,this.wordCount=e.wordCount||null,this.url=e.url,this.referrerInfo=e.referrerInfo,this.scrollContainer=e.scrollContainer||null,this.articleContainer=e.articleContainer||null,this.scrollPosition=0,this.articleViewedPercentage=null,this.totalActiveTime=0,this.lastActiveTime=r(),this.lastPingSent=this.lastActiveTime,this.activityInterval=null,this.windowEventTypes=["focus","resize"],this.bodyEventTypes=["beforeunload","focus","mousemove","mousedown","keydown"],this.throttledUpdateActivity=(0,a.default)(function(){return n.updateActivity()},500),this.latestEngagementData=null}Object.defineProperty(e,"__esModule",{value:!0});var s=n(29),a=i(s),u=n(86),c=i(u),d=n(0),l=5,p=5;o.prototype.initialize=function(){this.storeActivity(),this.trackActivity(),this.initializePings()},o.prototype.trackActivity=function(){var t;for(t=0;t<this.windowEventTypes.length;t++)(0,d.bind)(window,this.windowEventTypes[t],this.throttledUpdateActivity);for(t=0;t<this.bodyEventTypes.length;t++)(0,d.bind)(document.body,this.bodyEventTypes[t],this.throttledUpdateActivity);this.trackScrollActivity(),this.trackReadingTime(l)},o.prototype.trackScrollActivity=function(){(0,d.bind)(this.scrollContainer||window,"scroll",this.throttledUpdateActivity)},o.prototype.untrackScrollActivity=function(){(0,d.unbind)(this.scrollContainer||window,"scroll",this.throttledUpdateActivity)},o.prototype.trackReadingTime=function(t){var e=this,n=1;this.activityInterval=window.setInterval(function(){e.lastActiveTime<r()-t||(e.totalActiveTime+=n,e.storeActivity())},1e3*n)},o.prototype.updateActivity=function(){this.lastActiveTime=r(),this.updateScrollPosition(),this.storeActivity()},o.prototype.updateScrollPosition=function(){var t,e=(window.pageYOffset||document.scrollTop)-(document.clientTop||0),n=Math.max(0,Math.round(e));n>this.scrollPosition&&(this.scrollPosition=n),this.articleContainer&&(t=Math.round(100/this.articleContainer.offsetHeight*(0,c.default)(this.articleContainer)),t>this.articleViewedPercentage&&t<=100&&(this.articleViewedPercentage=t))},o.prototype.storeActivity=function(){this.latestEngagementData={articleId:this.activity.contentId,pageViewId:this.pageViewId,group:this.group,scrollPosition:this.scrollPosition,articleViewedPercentage:this.articleViewedPercentage,totalActiveTime:this.totalActiveTime,referrerInfo:this.referrerInfo,wordCount:this.wordCount,url:this.url}},o.prototype.initializePings=function(){var t=this;this.pingInterval=window.setInterval(function(){t.lastPingSent!==t.lastActiveTime&&(t.lastPingSent=t.lastActiveTime,t.sendEvent(t.latestEngagementData))},1e3*p)},o.prototype.sendEvent=function(t){var e=this.activity.events.trackEngagement(1e3*t.totalActiveTime,t.scrollPosition);e.data["spt:pageViewId"]=t.pageViewId,e.data.object["@id"]=(0,d.getSdrnIdWithContentType)(this.activity.opts.clientId,this.activity.contentType,this.activity.contentId),e.send()},o.prototype.destroy=function(){var t;for(this.activityInterval&&window.clearInterval(this.activityInterval),this.pingInterval&&window.clearInterval(this.pingInterval),t=0;t<this.windowEventTypes.length;t++)(0,d.unbind)(window,this.windowEventTypes[t],this.throttledUpdateActivity);for(t=0;t<this.bodyEventTypes.length;t++)(0,d.unbind)(document.body,this.bodyEventTypes[t],this.throttledUpdateActivity);this.untrackScrollActivity(),this.reset()},o.prototype.reset=function(){this.scrollPosition=0,this.totalActiveTime=0,this.lastActiveTime=0,this.lastPingSent=0},e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){return Boolean(t)&&t.length>0}function o(t,e){this.referrer=t||document.referrer,this.url=e||window.location.href}function s(t,e){return r(t)&&r(e)&&(0,l.getDomainFromUrl)(t)===(0,l.getDomainFromUrl)(e)}function a(t,e){return t&&t.url&&t.url===e}function u(t,e,n){var i,r=null;return d.default.enabled?(s(e,n)&&(i=d.default.get(t),a(i,e)&&(r=i)),r):null}Object.defineProperty(e,"__esModule",{value:!0});var c=n(87),d=i(c),l=n(0);o.prototype.evaluateReferringArticle=function(){return u("previousArticle",this.referrer,this.url)},o.prototype.evaluateReferringPage=function(){return u("previousPage",this.referrer,this.url)},o.prototype.evaluateReferringExperiment=function(){return u("referringExperiment",this.referrer,this.url)},o.prototype.evaluateReferringImpression=function(){return u("referringImpression",this.referrer,this.url)},o.prototype.setArticle=function(t){d.default.enabled&&(d.default.set("referringImpression",null),d.default.set("referringExperiment",null),d.default.set("previousPage",null),d.default.set("previousArticle",{url:this.url,referrer:this.referrer,articleId:t.articleId}))},o.prototype.setPage=function(t){d.default.enabled&&(d.default.set("referringImpression",null),d.default.set("referringExperiment",null),d.default.set("previousArticle",null),d.default.set("previousPage",{url:this.url,referrer:this.referrer,pageId:t.pageId,experiments:t.experiments||null}))},o.prototype.setReferringExperiment=function(t){d.default.enabled&&d.default.set("referringExperiment",{url:this.url,referrer:this.referrer,experiment:t})},o.prototype.setReferringImpression=function(t){d.default.enabled&&d.default.set("referringImpression",{url:this.url,referrer:this.referrer,impression:t})},o.prototype.setUrl=function(t){this.referrer=this.url,this.url=t},o.prototype.setReferrer=function(t){this.referrer=t||this.referrer},o.prototype.getUrl=function(){return this.url},o.prototype.getReferrer=function(){return this.referrer},e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){var e,n=document.getElementsByTagName("*"),i=[];for(e=0;e<n.length;e++)n[e].hasAttribute(t)&&n[e].getAttribute(t)&&i.push(n[e]);return i}function o(){return{top:0,left:0,right:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0,bottom:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0}}function s(t,e){return t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom}function a(t,e,n){return t.left>=e.left&&t.right<=e.right&&(t.top>=e.top&&t.top<=e.bottom&&e.bottom-t.top>=n||t.bottom>=e.top&&t.bottom<=e.bottom&&t.bottom-e.top>=n||t.top<=e.top&&t.bottom>=e.bottom)}function u(t){var e=this;this.throttledFindNewElementsInViewport=(0,d.default)(function(){return e.findNewElementsInViewport()},h),this.elementsToSend=[],this.possibleElementsInViewport=r("data-engage-entity-id"),this.activity=t}Object.defineProperty(e,"__esModule",{value:!0});var c=n(29),d=i(c),l=n(0),p=2e3,h=100;u.prototype.initialize=function(){var t=this;this.sendInterval=window.setInterval(function(){return t.sendImpressionsIfExist()},p),(0,l.bind)(window,"scroll",this.throttledFindNewElementsInViewport),(0,l.bind)(window,"resize",this.throttledFindNewElementsInViewport),this.throttledFindNewElementsInViewport(),this.sendImpressionsIfExist()},u.prototype.findNewElementsInViewport=function(){var t,e,n=o(),i=.33*(n.bottom-n.top);for(t=0;t<this.possibleElementsInViewport.length;t++)e=this.possibleElementsInViewport[t],(s(e.getBoundingClientRect(),n)||a(e.getBoundingClientRect(),n,i))&&(e.hasAttribute("data-engage-already-sent")||(this.elementsToSend.push(e),e.setAttribute("data-engage-already-sent","true")))},u.prototype.sendImpressionsIfExist=function(){0!==this.elementsToSend.length&&(this.sendImpressions(),this.elementsToSend=[])},u.prototype.sendImpressions=function(){var t,e,n;for(t=0;t<this.elementsToSend.length;t++)e=this.elementsToSend[t],n=this.activity.events.trackContentView(),n.data["spt:pageViewId"]=this.activity.getPageViewId(),n.data.object["@id"]=(0,l.getSdrnIdWithContentType)(this.activity.opts.clientId,this.activity.contentType,this.activity.contentId)+(":element:"+e.getAttribute("data-engage-entity-id")),n.data.object["@type"]="UIElement",n.addCustomData("primary",{"spt:position":e.hasAttribute("data-engage-position")?e.getAttribute("data-engage-position"):null,"spt:source":e.hasAttribute("data-engage-source")?e.getAttribute("data-engage-source"):null,"spt:isImpression":!0}),n.queue();this.activity.sendQueue()},u.prototype.destroy=function(){var t;for(this.sendInterval&&window.clearInterval(this.sendInterval),(0,l.unbind)(window,"scroll",this.throttledFindNewElementsInViewport),(0,l.unbind)(window,"resize",this.throttledFindNewElementsInViewport),t=0;t<this.possibleElementsInViewport.length;t++)this.possibleElementsInViewport[t].removeAttribute("data-engage-already-sent");this.possibleElementsInViewport=[],this.elementsToSend=[]},e.default=u},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var i=n(19),r=n(11),o=n(28),s=n(27),a=n(63);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,d=4==t,l=6==t,p=5==t||l,h=e||a;return function(e,a,f){for(var g,v,y=o(e),m=r(y),b=i(a,f,3),w=s(m.length),I=0,j=n?h(e,w):u?h(e,0):void 0;w>I;I++)if((p||I in m)&&(g=m[I],v=b(g,I,y),t))if(n)j[I]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return I;case 2:j.push(g)}else if(d)return!1;return l?-1:c||d?d:j}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(16);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(71),r=n(76);t.exports=n(10)?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(4),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var i=n(7);t.exports=function(t,e){return!!t&&i(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(11),r=n(20);t.exports=function(t){return i(r(t))}},function(t,e,n){var i=n(25),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},function(t,e,n){var i=n(20);t.exports=function(t){return Object(i(t))}},function(t,e,n){(function(e){function n(t,e,n){function i(e){var n=g,i=v;return g=v=void 0,k=e,m=t.apply(i,n)}function o(t){return k=t,b=setTimeout(d,e),O?i(t):m}function s(t){var n=t-w,i=t-k,r=e-n;return T?j(r,y-i):r}function c(t){var n=t-w,i=t-k;return void 0===w||n>=e||n<0||T&&i>=y}function d(){var t=S();return c(t)?l(t):void(b=setTimeout(d,s(t)))}function l(t){return b=void 0,E&&g?i(t):(g=v=void 0,m)}function p(){void 0!==b&&clearTimeout(b),k=0,g=w=v=b=void 0}function h(){return void 0===b?m:l(S())}function f(){var t=S(),n=c(t);if(g=arguments,v=this,w=t,n){if(void 0===b)return o(w);if(T)return b=setTimeout(d,e),i(w)}return void 0===b&&(b=setTimeout(d,e)),m}var g,v,y,m,b,w,k=0,O=!1,T=!1,E=!0;if("function"!=typeof t)throw new TypeError(u);return e=a(e)||0,r(n)&&(O=!!n.leading,T="maxWait"in n,y=T?I(a(n.maxWait)||0,e):y,E="trailing"in n?!!n.trailing:E),f.cancel=p,f.flush=h,f}function i(t,e,i){var o=!0,s=!0;if("function"!=typeof t)throw new TypeError(u);return r(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),n(t,e,{leading:o,maxWait:e,trailing:s})}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function o(t){return!!t&&"object"==typeof t}function s(t){return"symbol"==typeof t||o(t)&&w.call(t)==d}function a(t){if("number"==typeof t)return t;if(s(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=h.test(t);return n||f.test(t)?g(t.slice(2),n?2:8):p.test(t)?c:+t}var u="Expected a function",c=NaN,d="[object Symbol]",l=/^\s+|\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,f=/^0o[0-7]+$/i,g=parseInt,v="object"==typeof e&&e&&e.Object===Object&&e,y="object"==typeof self&&self&&self.Object===Object&&self,m=v||y||Function("return this")(),b=Object.prototype,w=b.toString,I=Math.max,j=Math.min,S=function(){return m.Date.now()};t.exports=i}).call(e,n(30))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t){t=t||{},t.pageUnload===!0&&(_.queue.loadFromLocalStorage(),(0,g.pageUnload)(_)),t.hashChange===!0&&(0,g.hashChange)(_),t.engagementTime===!0&&(0,S.default)(_,t.engageOpts),t.impressionTracking===!0&&(0,O.default)(_,t.engageOpts),t.articleEngage===!0&&(_.engage=(0,E.default)(_,t.engageOpts)),t.pageEngage===!0&&(_.engage=(0,C.default)(_,t.engageOpts)),t.engagement===!0&&y.engagement(_),t.clickButton===!0&&f.button(_),t.pageLoad!==!1&&(0,g.pageLoad)(_)}function s(t){A!==!0&&(A=!0,o(t.trackingFeatures),b.impliedEvents(_))}function a(){try{for(var t,e=null,n=null;e=U.shift();){t=_;try{for(;n=e.shift();)if(n instanceof Array){var i=n[0],r=n.slice(1);t=t[i].apply(t,r)}else"string"==typeof n&&(t=t[n])}catch(t){(0,P.debug)("track.js: Pulse2 call queue execution failed: "+t,_.opts.debugMode)}}}catch(t){(0,P.debug)("track.js: Pulse2 call queue execution failed: "+t,_.opts.debugMode)}}function u(t,e){var n=t.throttle||1;if(e===!0&&(A=!1),Math.random()<n)return _&&_.engage&&_.engage.destroy&&_.engage.destroy(),_=new I.default(t),"complete"===document.readyState||"interactive"===document.readyState?s(t):(window.addEventListener("DOMContentLoaded",function(){s(t)},!1),window.addEventListener("load",function(){s(t)},!1)),setTimeout(a,10),U.push=function(){return Array.prototype.push.apply(this,arguments),setTimeout(a,1),this.length},_.getPageViewId()}function c(){return _.getPageViewId()}function d(){_.userLogout()}function l(t){_.userLogin(t)}function p(){return _}Object.defineProperty(e,"__esModule",{value:!0}),e.callQueue=void 0,e.initTracking=u,e.getPageViewId=c,e.logoutEvent=d,e.loginEvent=l,e.activity=p;var h=n(34),f=r(h),g=n(40),v=n(36),y=r(v),m=n(37),b=r(m),w=n(41),I=i(w),j=n(35),S=i(j),k=n(38),O=i(k),T=n(33),E=i(T),x=n(39),C=i(x),P=n(1),_={},A=!1,U=(window.AutoTrack||{}).callQueue||[];e.callQueue=U},function(t,e,n){"use strict";function i(t){var e=new Image,n=t.url+"?r="+Math.random();t.userId&&(n+="&id="+t.userId),e.src=n}Object.defineProperty(e,"__esModule",{value:!0}),e.initCookieSync=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=n(42).default,r=new i(t,e);return r.initialize(),r}},function(t,e,n){"use strict";function i(t){document.addEventListener("click",function(e){var n=e.target||e.srcElement;/.*track-click.*/.test(n.className)&&t.events.trackClick(n.id).send()},!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.button=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=n(13).default;return new i(t,e).initialize()}},function(t,e,n){"use strict";function i(t){document.addEventListener("click",function(e){var n=e.target||e.srcElement;/.*track-engagement.*/.test(n.className)&&t.events.trackEngagement((0,r.getViewDuration)(),(0,r.getScrollPosition)(),"Click",n.tagName,n.id,n.getAttribute("p2-action"),n.getAttribute("p2-meta")).send()},!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.engagement=i;var r=n(0)},function(t,e,n){"use strict";function i(t){function e(t,e,n){return t[e]?t[e]:n}var n=t.opts.impliedEvents;n&&n.map(function(n){var i;switch(i=n.params,n.track.toLowerCase()){case"create":t.events.trackCreate(e(i,0),e(i,1),e(i,2,{})).send();break;case"login":t.events.trackLogin(e(i,0),e(i,1),e(i,2,{})).send();break;case"logout":t.events.trackLogout(e(i,0),e(i,1),e(i,2,{})).send();break;case"reply":t.events.trackReply(e(i,0),e(i,1),e(i,2,{})).send();break;case"update":t.events.trackUpdate(e(i,0),e(i,1),e(i,2,{})).send();break;case"refer":t.events.trackRefer(e(i,0),e(i,1),e(i,2,{})).send();break;case"report":t.events.trackReport(e(i,0),e(i,1),e(i,2,{})).send()}})}Object.defineProperty(e,"__esModule",{value:!0}),e.impliedEvents=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=n(15).default;return new i(t,e).initialize()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i=n(49).default,r=new i(t,e);return r.initialize(),r}},function(t,e,n){"use strict";function i(t){t.events.trackContentView().send()}function r(t){document.addEventListener("hashchange",function(){t.events.trackContentView().send()},!1)}function o(t){function e(){i||(i=!0,t.events.trackEngagementTime((0,s.dateNow)()-n).queue(),t.events.trackExit().queue(),t.queue.persistToLocalStorage())}var n=(0,s.dateNow)(),i=!1;document.addEventListener("click",function(e){var r,o,a,u;i&&(i=!0,r=e.target,"a"===r.tagName.toLowerCase()&&(o=r.getAttribute("href"),a=/^https?:\/\//i,o.match(a)&&(t.events.trackEngagementTime((0,s.dateNow)()-n).queue(),u=t.events.trackExit("sdrn:exit:"+o,"Page"),u.addProperty("secondary","url",o),u.queue(),t.sendQueue())))},!1),window.addEventListener("beforeunload",e),window.addEventListener("unload",e,!1)}Object.defineProperty(e,"__esModule",{value:!0}),e.pageLoad=i,e.hashChange=r,e.pageUnload=o;var s=n(0)},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(this.utils=d,!t)throw new Error("options object is required");if(!t.clientId)throw new Error("clientId is required");t.optOut||(this.optOut=!1,this.waitForOptOut=!1,t.waitForOptOut&&(this.optOut="wait",this.waitForOptOut=!0),this.vars=T,this.version=E,this.clientId=("sdrn:schibsted:client:"+t.clientId).toLowerCase(),t.url?this.url=t.url+"/"+this.clientId:this.url=this.vars.envVars.dataCollectorUrl+"/"+this.clientId,this.pageViewId=(0,c.getUuidV4)(),t.transport?this.transport=t.transport:this.transport=new v.default,t.respectDoNotTrack===!0&&navigator&&1===parseInt(navigator.doNotTrack,10)?this.allowTracking=!1:this.allowTracking=!0,this.opts=t,this.contentId=t.contentId||t.pageId||encodeURIComponent(document.location),this.contentType=t.contentType||t.pageType||"Content",this.userIdDomain=t.userIdDomain,this.noRedirect=!0,this.enrichmentFailed=!1,this.queue=new m.default(100,{persistOnUpdate:(t.trackingFeatures||{}).persistAllEvents,loadFromLocalStorage:(t.trackingFeatures||{}).persistAllEvents}),this.events=new u.default(this),this.user=new p.default({userId:this.opts.userId,userIdDomain:this.opts.userIdDomain,userServiceUrl:this.opts.userServiceUrl,noRedirect:this.noRedirect,transport:this.transport,utils:this.utils,waitForOptOut:this.waitForOptOut,jwe:this.opts.jwe}),this.plugins=new w.default(this.opts),this.trigger=new j.default(this.opts,this.plugins),this.initIds(function(){}),this.plugins.call(this.plugins.sdkLoad,this))}Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),a=n(48),u=r(a),c=n(0),d=i(c),l=n(55),p=r(l),h=n(50),f=r(h),g=n(9),v=r(g),y=n(47),m=r(y),b=n(51),w=r(b),I=n(54),j=r(I),S=n(43),k=r(S),O=n(8),T=i(O);n(56),n(57),n(59),n(58);var E="3.1.8";o.prototype.initIds=function(t){var e=this;t=t||function(){},this.opts.hybridAppMode&&!this.opts.jwe||((0,s.debug)("Fetching Ids"),this.user.getUserId(function(n,i){e.idsDoneCallback(n,i,t),e.plugins.call(e.plugins.sdkReady,e)}))},o.prototype.registerPlugin=function(t,e,n){this.plugins.on(t,e,n)},o.prototype.unRegisterPlugin=function(t,e,n){this.plugins.off(t,e,n)},o.prototype.idsDoneCallback=function(t,e,n){var i=this;return t?((0,s.debug)("Failed to fetch ids from CIS "+t),delete this.envId):(this.userId||(this.userId=e.userId),this.envId=e.envId),this.waitingToTransmitQueue=!1,this.sendQueue(),this.user.syncIdsWithServer(function(){return new k.default(i.user).start()}),new k.default(this.user).start(),
this.doAppNexusPixelSync(),n(e)},o.prototype.doAppNexusPixelSync=function(){var t,e="https://secure.adnxs.com/getuid?https://cis.schibsted.com/api/v1/sync?ANID=$UID";this.user.shouldSyncWithAn&&(this.user.shouldSyncWithAn=!1,this.user.setAnIdUnresolved(),t=new f.default(e,"pulse2an",1),t.initPixel())},o.prototype.sendQueue=function(t){var e,n,i=this;if(t=t||function(){},!this.queue.count())return t("no items in queue");if(!this.allowTracking)return t("tracking not allowed");if(this.plugins.call(this.plugins.eventCreated,this.queue.peekAll()),"send"!==this.isUserInfoResolved()||"send"!==this.optOutAction())return this.waitingToTransmitQueue=!0,t("not ready to send");for((0,s.debug)("Sending queue"),n=this.queue.dequeueAll(),e=0;e<n.length;e++)this.enrichEvents(n[e]);this.enrichmentFailed||(this.plugins.call(this.plugins.eventReady,n),this.transport.post(this.url,n,function(e){e?((0,s.debug)("Failed to send queue"),i.queue.enqueueMany(n),t(e)):(i.plugins.call(i.plugins.eventSent,n),t(null,!0))}))},o.prototype.send=function(t,e){var n=this;return e||(e=function(){}),this.allowTracking?(this.plugins.call(this.plugins.eventCreated,t),"send"!==this.isUserInfoResolved()||"send"!==this.optOutAction()?(this.queue.enqueue(t),this.waitingToTransmitQueue=!0,e("not ready to send")):((0,s.debug)("Sending object"),this.enrichEvents(t),void(this.enrichmentFailed||(this.plugins.call(this.plugins.eventReady,t),this.transport.post(this.url,[t],function(i){i?((0,s.debug)("Failed to send object"),n.queue.enqueue(t),e(i)):(n.plugins.call(n.plugins.eventSent,t),e(null,!0))}))))):e("tracking not allowed")},o.prototype.optOutAction=function(){return this.waitForOptOut&&"wait"===this.optOut?"wait":this.waitForOptOut&&this.optOut?"discard":"send"},o.prototype.setOptOut=function(t,e){return this.optOut=t,this.waitingToTransmitQueue=!1,this.sendQueue(e)},o.prototype.isUserInfoResolved=function(){return"undefined"==typeof this.envId?"SDK: Waiting for envId":this.envId.indexOf("undefined")>-1?(delete this.envId,"SDK: Waiting for envId"):this.user.doTracking===!1?"CIS: user has opted out":"send"},o.prototype.enrichEvents=function(t){this.addTheIds(t),this.user&&this.user.localCookieNotSet&&(t.tracker.localCookieNotSet=!0)},o.prototype.addTheIds=function(t){var e=this.user.getTheEnvironmentId(),n=this.user.getTheUserId(),i=this.user.getTheJwe(),r=(0,c.objectKeys)(this.user.idObj.altEnvIds||{});if(e&&"undefined"!==e){if(0!==String(e).indexOf("sdrn:")){if(e.length>40)return void this.deleteEnvId();t.device.environmentId="sdrn:schibsted:environment:"+e}else{if(e.length>70)return void this.deleteEnvId();t.device.environmentId=e}i&&(t.device.jweIds=i),n&&(t.actor=t.actor||{},t.actor["@id"]=n,t.actor["spt:userId"]=n),r&&r.length>0&&(r=r.map(function(t){return 0!==String(t).indexOf("sdrn:")?"sdrn:schibsted:environment:"+t:t}),t.device.additionalEnvironmentIds=r)}},o.prototype.deleteEnvId=function(){this.enrichmentFailed=!0,delete this.user.idObj.envId,this.refreshUserIds()},o.prototype.getPageViewId=function(){return this.pageViewId},o.prototype.setNewPageViewId=function(){this.pageViewId=(0,c.getUuidV4)()},o.prototype.userLogout=function(){delete this.user.idObj.userId,this.refreshUserIds()},o.prototype.userLogin=function(t){this.user.idObj.userId=t,this.refreshUserIds()},o.prototype.refreshUserIds=function(){this.waitingToTransmitQueue=!0,this.user.didSync=!1,this.initIds()},o.prototype.setJWE=function(t){this.opts.hybridAppMode&&(this.opts.jwe=t,this.user.opts.jwe=t,this.initIds())},e.default=o},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(){var t,e,n=document.getElementsByTagName("meta"),i=null;for(e=0;e<n.length;e++)if(t=n[e].getAttribute("property"),"og:image"===t){i=n[e].content;break}return i}function o(t){return"object"!==u(t.previewUrl)&&(t.previewUrl={}),t.previewUrl={http:t.previewUrl.http||null,https:t.previewUrl.https||null},t.imageUrl=t.imageUrl||r(),t.title=t.title||window.document.title,t.shareUrl=t.shareUrl||{},t.shareUrl={facebook:t.shareUrl.facebook||t.permalink,twitter:t.shareUrl.twitter||t.permalink},t}function s(t){var e,n=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/,i=["month","hour","minutes","seconds","ms","zoneHour","zoneMinutes"],r=0,o=n.exec(t);if(!o)throw new Error("Not ISO8601 date "+t);for(o={year:o[1],month:o[2],day:o[3],hour:o[4],minutes:o[5],seconds:o[6],ms:o[7],zoneUTC:o[8],zoneModifier:o[9],zoneHours:o[10],zoneMinutes:o[11]},e=0;e<i.length;e++)o[i[e]]=Number(o[i[e]])||0;return o.month=(Number(o.month)||1)-1,o.day=Number(o.day)||1,"Z"!==o.zoneUTC&&"undefined"!=typeof o.zoneModifier&&(r=60*o.zoneHours+o.zoneMinutes,"+"===o.zoneModifier&&(r=0-r)),new Date(Date.UTC(o.year,o.month,o.day,o.hour,o.minutes+r,o.seconds,o.ms))}function a(t,e){(0,f.requiredAttribute)(e,"site"),(0,f.requiredAttribute)(e,"published"),(0,f.requiredAttribute)(e,"device"),e=o(e),this.activity=t,Object.assign(this,e),this.history=new p.default(this.referrer),this.setMetadata(e),(0,h.conditionallyAddOverlayTool)(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=n(13),d=i(c),l=n(14),p=i(l),h=n(45),f=n(0);a.prototype.initialize=function(){this.registerLifeCyclePlugins(),this.createEngagementTime()},a.prototype.registerLifeCyclePlugins=function(){this.activity.registerPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.registerPlugin("eventCreated",{engagement:this.attatchEngageDataToPageViews.bind(this)})},a.prototype.unRegisterLifeCyclePlugins=function(){this.activity.unRegisterPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.unRegisterPlugin("eventCreated",{engagement:this.attatchEngageDataToPageViews.bind(this)})},a.prototype.setMetadata=function(t){var e,n,i,r,o;if(t.group&&t.group.length>256)throw new Error("Group can not be longer then 256 characters");if(t.articleContainer&&!t.articleContainer.nodeName)throw new Error("articleContainer must be a DOM node");if(!t.updated||t.updated instanceof Date?this.updated=t.updated||null:this.updated=s(t.updated),t.published instanceof Date?this.published=t.published:this.published=s(t.published),Object.assign(this,{articleId:this.activity.contentId,category:t.category||null,group:t.group||null,authors:t.authors||[],wordCount:t.wordCount||null,scrollContainer:t.scrollContainer||null,articleContainer:t.articleContainer||null,previewUrl:t.previewUrl}),e=this.history.evaluateReferringArticle(),this.isReferrerArticle=Boolean(e),this.referrerId=e?e.articleId:this.history.getReferrer(),this.previousReferrer=e?e.referrer:null,n=this.history.evaluateReferringPage(),n&&(this.isReferrerArticle=!1,this.referrerId=n.pageId||this.history.getReferrer(),this.previousReferrer=n.referrer||null,n.experiments&&n.experiments.length))for(this.experiments=this.experiments||[],i=0;i<n.experiments.length;i++)this.experiments.push(n.experiments[i]);r=this.history.evaluateReferringExperiment(),r&&(this.experiments=this.experiments||[],this.experiments.push(r.experiment)),o=this.history.evaluateReferringImpression(),o?this.referringImpression=o.impression:this.referringImpression=null,this.history.setArticle(this)},a.prototype.attatchEngageDataToPageViews=function(t){var e,n;return e=this.updated?(0,f.dateToISO)(this.updated):null,t.provider["spt:engage"]=this.site,n={"spt:site":this.site,"spt:url":this.history.getUrl(),"spt:articleId":this.articleId,"spt:group":this.group,"spt:device":this.device,"spt:permalink":this.permalink,"spt:shareUrl":this.shareUrl,"spt:previewUrl":this.previewUrl,"spt:published":(0,f.dateToISO)(this.published),"spt:updated":e,"spt:authors":this.authors,"spt:wordCount":this.wordCount,"spt:imageUrl":this.imageUrl,"spt:referrer":this.history.getReferrer(),"spt:isReferrerArticle":this.isReferrerArticle,"spt:referrerId":this.referrerId,"spt:previousReferrer":this.previousReferrer,"spt:referringImpression":this.referringImpression},Object.assign(t.object["spt:custom"],n),t},a.prototype.getReferrerInfo=function(){return{referrer:this.history.getReferrer(),isReferrerArticle:this.isReferrerArticle,referrerId:this.referrerId,previousReferrer:this.previousReferrer}},a.prototype.createEngagementTime=function(){this.engagementTime||(this.engagementTime=new d.default(this.activity,{pageViewId:this.activity.getPageViewId(),device:this.device,group:this.group,wordCount:this.wordCount,url:this.history.getUrl(),referrerInfo:this.getReferrerInfo(),scrollContainer:this.scrollContainer,articleContainer:this.articleContainer}),this.engagementTime.initialize())},a.prototype.destroy=function(){this.engagementTime&&(this.unRegisterLifeCyclePlugins(),this.engagementTime.destroy(),this.engagementTime=null)},e.default=a},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){this.referenceUrls=t.referenceUrls,this.user=t,this.transport=t.transport||new s.default,this.pointer=0}Object.defineProperty(e,"__esModule",{value:!0});var o=n(9),s=i(o),a=n(0);r.prototype.start=function(){this.referenceUrls&&Array.isArray(this.referenceUrls)&&this.callCurrentIDService()},r.prototype.callCurrentIDService=function(){var t=this;this.pointer>20||this.referenceUrls.length<=this.pointer||!this.referenceUrls[this.pointer]||this.transport.get("https://"+this.referenceUrls[this.pointer]+"/api/v1/pulse",null,function(e,n){return t.handleResponse(e,n)},1,!0)},r.prototype.handleResponse=function(t,e){var n;if(this.pointer++,!t&&e&&e.responseText){try{n=JSON.parse(e.responseText)}catch(t){return}return n&&n.pulse2data?(this.cacheOldEnvironmentId(this.user.idObj.envId),void this.user.replaceCookieValue(n.pulse2data)):void this.callCurrentIDService()}},r.prototype.cacheOldEnvironmentId=function(t){var e,n,i,r,o,s,u={};if(this.user.idObj.altEnvIds=this.user.idObj.altEnvIds||{},this.user.idObj.altEnvIds[t]=(0,a.dateNow)(),e=Object.keys(this.user.idObj.altEnvIds),e.length>5){for(n=0;n<e.length;n++){for(o=this.user.idObj.altEnvIds[e[n]],r=0,i=0;i<e.length;i++)n!==i&&(s=this.user.idObj.altEnvIds[e[i]],parseInt(o,10)>parseInt(s,10)&&r++);r>=e.length-5&&(u[e[n]]=o)}this.user.idObj.altEnvIds=u}},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(){}}},function(t,e,n){"use strict";function i(t,e){var n=void 0;window.loadOverlayToolCallback=function(t){var n=void 0;t.jwt&&(n=document.createElement("script"),n.src=o,n.type="text/javascript",n.onload=function(){new window.EngageOverlay({site:t.newsroom,jwt:t.jwt,userId:t.userId,articleId:e})},document.body.appendChild(n))},n=document.createElement("script"),n.src="https://engage-auth.schibsted.media/jwt/"+encodeURIComponent(t)+"?callback=loadOverlayToolCallback",n.type="text/javascript",document.body.appendChild(n)}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.enableOverlay,r=e.device,o=e.site;n&&"Article"===t.contentType&&"mobile"!==r&&i(o,t.contentId)}Object.defineProperty(e,"__esModule",{value:!0}),e.loadOverlayTool=i,e.conditionallyAddOverlayTool=r;var o="//engage-cdn.schibsted.media/js/overlay/latest/overlay.min.js"},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("data required");try{this.data=t.getSchema()}catch(t){throw new Error("get schema function required")}if(!t.activity)throw new Error("data must have property activity");this.activity=t.activity,this.objectOrder=e||[]}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.queue=function(){this.activity.queue.enqueue(this.data)},i.prototype.send=function(t){this.activity.send(this.data,t)},i.prototype.addProperty=function(t,e,n){var i=this.getObjectKey(t);return this.data[i][e]=n,this},i.prototype.addCustomData=function(t,e){var n=this.getObjectKey(t);return this.data[n]["spt:custom"]=e,this},i.prototype.getObjectKey=function(t){if("primary"===t)return this.objectOrder[0];if("secondary"===t)return this.objectOrder[1];if("tertiary"===t)return this.objectOrder[2];throw new Error("Object reference not valid")},e.default=i},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("size of the queue must be given");this.options=e||{},this.maxSize=t,this.queue=[],this.options.loadFromLocalStorage&&this.loadFromLocalStorage()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o="_pulse2-queue";i.prototype.persistToLocalStorage=function(){try{(0,r.checkLocalStorage)(),localStorage.setItem(o,JSON.stringify(this.queue))}catch(t){}},i.prototype.loadFromLocalStorage=function(){var t;try{(0,r.checkLocalStorage)(),t=JSON.parse(localStorage.getItem(o)),t&&(0,r.isArray)(t)&&(this.queue=this.queue.concat(t))}catch(t){}},i.prototype.enqueue=function(t){this.queue.push(t),this.queue.length>this.maxSize&&this.queue.shift(),this.options.persistOnUpdate&&this.persistToLocalStorage()},i.prototype.enqueueMany=function(t){if(!(0,r.isArray)(t))throw new Error("elements must be an array");this.queue=this.queue.concat(t),this.queue.length>this.maxSize&&(this.queue=this.queue.slice(this.queue.length-this.maxSize,this.queue.length)),this.options.persistOnUpdate&&this.persistToLocalStorage()},i.prototype.dequeue=function(){var t=this.queue.shift();return this.options.persistOnUpdate&&this.persistToLocalStorage(),t},i.prototype.dequeueAll=function(){var t=this.queue.splice(0,this.queue.length);return this.options.persistOnUpdate&&this.persistToLocalStorage(),t},i.prototype.peek=function(){return this.queue[0]},i.prototype.peekAll=function(){return this.queue},i.prototype.count=function(){return this.queue.length},e.default=i},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(!t)throw new Error("activity required");this.activity=t,this.opts=t.opts,this.contentId=t.contentId,this.contentType=t.contentType}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=n(46),a=i(s),u=n(53),c=i(u),d=n(0),l=n(1);r.prototype.getSdrnIdWithContentType=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.clientId,n=t.targetType,i=t.targetId;return i=i||this.activity.contentId,i&&i.indexOf&&0===i.indexOf("sdrn:")?i:(0,d.getSdrnIdWithContentType)(e||this.activity.opts.clientId,n||this.activity.contentType,i||this.activity.contentId)},r.prototype.trackContentView=function(t){var e=new c.default(this.activity);return e.type="View",e.object=this.addPageStandards(e.object),e.object.name=t||document.title,e.object.properties={},e.object.properties=this.reMapCustom(e.object.properties,"@type"),e.object.properties=this.reMapCustom(e.object.properties,"action"),e.object.properties=this.reMapCustom(e.object.properties,"item"),this.opts.filters&&(e.object.filters=this.opts.filters),document.referrer&&(e.origin={url:document.referrer}),this.opts.targetId&&this.opts.targetType&&(e.target={},e.target=this.addPageStandards(e.target,this.opts.targetId,this.opts.targetType)),e.tracker.trackingMethod="trackContentView",new a.default(e,["object","origin"])},r.prototype.trackBasic=function(t,e,n,i,r,s,u){var d=new c.default(this.activity);return e=e||"Content",n=n||"undefined",d.id=this.getSdrnIdWithContentType({targetType:e,targetId:n}),d.type=t||"View","object"===("undefined"==typeof i?"undefined":o(i))?d.addCustomDataToProperty(d.object,i):(0,l.debug)("events.js:trackBasic: objectMeta must be an object",d.activity.opts.debugMode),d.object["@id"]=this.getSdrnIdWithContentType({targetType:e,targetId:n}),d.object["@type"]=e,d.origin=this.addPageStandards(d.origin),e&&(d.object=this.addPageStandards(d.object,n,e)),r&&(d.schema.intent=r),s&&(d.provider=Object.assign({},d.provider,s)),u&&d.createExperiments(u),d.tracker.trackingMethod="trackBasic",new a.default(d,["object","origin"])},r.prototype.trackCreate=function(t,e,n){var i=this.trackBasic("Create",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackCreate",i},r.prototype.trackUpdate=function(t,e,n){var i=this.trackBasic("Update",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackUpdate",i},r.prototype.trackSave=function(t,e,n){return this.trackBasic("Save",t,e,n)},r.prototype.trackUnsave=function(t,e,n){return this.trackBasic("Unsave",t,e,n)},r.prototype.trackReply=function(t,e,n){var i=new c.default(this.activity),r=t||"Message",o=e||this.opts.contentId;return i.type="Create",i.addCustomDataToProperty(i.object,n),i.object=this.addPageStandards(i.object,o,r),i.origin=this.addPageStandards(i.origin),i.tracker.trackingMethod="trackReply",new a.default(i,["object","origin"])},r.prototype.trackRefer=function(t,e,n){var i=this.trackBasic("Refer",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackRefer",i},r.prototype.trackReport=function(t,e,n){var i=this.trackBasic("Report",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackReport",i},r.prototype.trackLogin=function(t,e,n){var i=this.trackBasic("Login",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackLogin",i},r.prototype.trackLogout=function(t,e,n){var i=this.trackBasic("Logout",t,e,n);return i.tracker=(i.tracker||{}).trackingMethod="trackLogout",i},r.prototype.trackClick=function(t,e,n,i,r){var o=new c.default(this.activity);return o.schema.schema="http://schema.schibsted.com/events/engagement-event.json/114.json#",o.type=r||"Engagement",o.origin=this.addPageStandards(o.origin),o.action="Click",o.object["@id"]=this.getSdrnIdWithContentType({targetId:i,targetType:n})+":element:"+t,o.object["@type"]="UIElement",o.object.name=e,o.schema.target=this.addPageStandards(o.origin,i,n),o.tracker.trackingMethod="trackClick",new a.default(o,["object","target"])},r.prototype.trackSocial=function(){return this.trackEngagement()},r.prototype.trackMediaState=function(t,e,n){var i=new c.default(this.activity);return i.type=n||"Watch",i.object={"@type":"UIElement","@id":this.getSdrnIdWithContentType()+":element:"+t,elementType:e},i.origin=this.addPageStandards(i.origin),i.tracker.trackingMethod="trackMediaState",new a.default(i,["object","origin"])},r.prototype.trackScroll=function(t){return this.trackEngagement(!1,t)},r.prototype.trackVisibility=function(t){var e=this.trackContentView();return e.data.object["@id"]=this.getSdrnIdWithContentType(this.activity.contentType,this.activity.contentId)+(":element:"+t),e.data.object["@type"]="UIElement",e},r.prototype.trackExit=function(t,e,n){var i=new c.default(this.activity);return i.type=n||"View",i.schema.intent="Close",i.object=this.addPageStandards(i.object),i.schema.target={},"undefined"!=typeof t&&"undefined"!=typeof e&&(i.schema.target=this.addPageStandards(i.origin,t,e)),i.tracker.trackingMethod="trackExit",new a.default(i,["object","target"])},r.prototype.trackEngagement=function(t,e,n,i,r,s,u){var p,h=new c.default(this.activity);if(h.schema.schema="http://schema.schibsted.com/events/engagement-event.json/114.json#",h.type="Engagement",h.origin=this.addPageStandards(h.origin),h.action=n,u){if(p=u,"string"==typeof u)try{p=JSON.parse(u)}catch(t){(0,l.debug)("Error parsing JSON: "+t,h.activity.opts.debugMode)}"object"===("undefined"==typeof p?"undefined":o(p))&&h.addCustomDataToProperty(h.object,p)}return i&&r?(h.object["@id"]=h.origin["@id"]+":element:"+r,h.object["@type"]="UIElement",h.object.elementType=i,h.object.action=s):h.object=this.addPageStandards(h.object),t||0===t?h.schema.duration=t:h.schema.duration=(0,d.getViewDuration)(),e||0===e?h.schema.scrollPosition=e:h.schema.scrollPosition=(0,d.getScrollPosition)(),h.tracker.trackingMethod="trackEngagement",new a.default(h,["object"])},r.prototype.trackEngagementTime=function(t,e,n){return this.trackEngagement(t,n)},r.prototype.trackCustomEvent=function(t,e,n){var i=new c.default(this.activity);return i.type=e||"View",i.object=this.addPageStandards(i.object),"object"===("undefined"==typeof n?"undefined":o(n))&&i.addCustomDataToProperty(i.object["spt:custom"],n),t&&(i.provider.eventIdentifier=t),i.tracker.trackingMethod="trackCustomEvent",new a.default(i,["object"])},r.prototype.trackCustom=function(t,e){var n=new c.default(this.activity);return n.type="CustomEvent",n.subtype=t&&!~t.indexOf("custom:")?"custom:".concat(t):t||"custom:Content",n.object=this.addPageStandards(n.object),n.schema.schema="http://schema.schibsted.com/events/custom-event.json/55.json#","object"===("undefined"==typeof e?"undefined":o(e))&&(n.custom=e),n.tracker.trackingMethod="trackCustom",new a.default(n,["object"])},r.prototype.addPageStandards=function(t,e,n){return e=e||this.activity.contentId,n=n||this.activity.contentType,t=t||{},t["@type"]=n,String(this.activity.contentId).indexOf("sdrn:")>-1?t["@id"]=e:t["@id"]=this.getSdrnIdWithContentType({targetType:n,targetId:e}),t.contentId=e,t.url=document.URL,t.name=document.title,this.opts.inLanguage&&(t.inLanguage=this.opts.inLanguage),this.opts.tags&&(0,d.isArray)(this.opts.tags)&&(t.tags=this.opts.tags),this.validateAndSet(t,"adType",this.opts.adType,"string"),this.validateAndSet(t,"location",this.opts.contentLocation,"object"),this.validateAndSet(t,"publisher",this.opts.publisher,"object"),this.validateAndSet(t,"publisherType",this.opts.publisherType,"string"),this.validateAndSet(t,"images",this.opts.images,"object"),this.validateAndSet(t,"creationDate",this.opts.creationDate,"string"),this.validateAndSet(t,"price",parseInt(this.opts.price,10),"number"),this.validateAndSet(t,"currency",this.opts.currency,"string"),this.validateAndSet(t,"items",this.opts.items,"object"),this.addCategoryToEvents(t)},r.prototype.validateAndSet=function(t,e,n,i){if(e&&n)return i&&("undefined"==typeof n?"undefined":o(n))!==i?(console.log("not valid"+e+" : "+i),void(0,l.debug)(e+" is not of type "+i,this.activity.opts.debugMode)):void(t[e]=n)},r.prototype.addCategoryToEvents=function(t){var e=this.activity.opts,n="";return e.provider=e.provider||{},e.object=e.object||{},e.category?n=e.category:e.object.category?n=e.object.category:e.provider.category&&(n=e.provider.category),(0,d.isArray)(n)&&(n=n.toString()),n&&(t.category=n),t},r.prototype.getDomainFromUrl=function(t){var e=t.match(/^https?\:\/\/(www.)?([^\/:?#]+)(?:[\/:?#]|$)/i);return e&&e[2]},r.prototype.reMapCustom=function(t,e,n){return n!==!1&&(n=!0),this.opts.object&&this.opts.object.properties&&this.opts.object.properties[e]?(t[e]=this.opts.object.properties[e],n&&delete this.opts.object.properties[e],t):t},e.default=r},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!e.previewUrl||!e.previewUrl.http)throw new Error("previewUrl.http is required");if(!e.previewUrl||!e.previewUrl.https)throw new Error("previewUrl.https is required");(0,c.requiredAttribute)(e,"site"),(0,c.requiredAttribute)(e,"device"),(0,c.requiredAttribute)(e,"permalink"),this.activity=t,Object.assign(this,e),this.history=new u.default(this.referrer)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(15),s=i(o),a=n(14),u=i(a),c=n(0);r.prototype.initialize=function(){this.createImpressions(),this.history.setPage(this),this.registerLifeCyclePlugins()},r.prototype.registerLifeCyclePlugins=function(){this.activity.registerPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.registerPlugin("eventCreated",{uielement:this.attatchEngageDataToPageViews.bind(this)})},r.prototype.unRegisterLifeCyclePlugins=function(){this.activity.unRegisterPlugin("eventCreated",{view:this.attatchEngageDataToPageViews.bind(this)}),this.activity.unRegisterPlugin("eventCreated",{uielement:this.attatchEngageDataToPageViews.bind(this)})},r.prototype.attatchEngageDataToPageViews=function(t){t.provider["spt:engage"]=this.site;var e={"spt:site":this.site,"spt:url":this.history.getUrl(),"spt:pageId":this.activity.contentId,"spt:device":this.device,"spt:permalink":this.permalink,"spt:shareUrl":this.shareUrl,"spt:previewUrl":this.previewUrl,"spt:imageUrl":this.imageUrl,"spt:referrer":this.history.getReferrer()};return this.experiments&&(event.data.experiments=this.experiments),Object.assign(t.object["spt:custom"],e),t},r.prototype.createImpressions=function(){this.impressions||(this.impressions=new s.default(this.activity),this.impressions.initialize())},r.prototype.destroy=function(){this.impressions&&(this.unRegisterLifeCyclePlugins(),this.impressions.destroy(),this.impressions=null)},e.default=r},function(t,e,n){"use strict";function i(t,e,n){this.collectorBaseUrl=t,this.service=e||"pulse2",this.clientId="",this.pageViewId="",this.throttle=.1,n>=0&&(this.throttle=n)}Object.defineProperty(e,"__esModule",{value:!0}),i.prototype.initPixel=function(){Math.random()<this.throttle&&this.collectorBaseUrl&&this.injectPixel()},i.prototype.injectPixel=function(){var t=this._createImgElement(),e=document.getElementsByTagName("body");e.item(0).appendChild(t)},i.prototype._createImgElement=function(){var t=document.createElement("img");return t.src=this.collectorBaseUrl,t.id=this.service+"pixel",t.style.display="none",t},e.default=i},function(t,e,n){"use strict";function i(t){this.opts=t,this.plugins=window.pulse2plugins||[],this.hooks={eventCreated:this.plugins.eventCreatedHooks||[],eventReady:this.plugins.eventReadyHooks||[],eventSent:this.plugins.eventSentHooks||[],load:this.plugins.onLoadHooks||[],ready:this.plugins.onReadyHooks||[]},this.sdkReady="ready",this.sdkLoad="load",this.eventCreated="eventCreated",this.eventReady="eventReady",this.eventSent="eventSent"}Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=n(0),s=n(1);i.prototype.call=function(t,e){switch(t){case this.eventCreated:case this.eventReady:case this.eventSent:return this.callEventHooks(e,this.hooks[t]);case this.sdkReady:case this.sdkLoad:return this.callSdkHooks(e,this.hooks[t]);default:return}},i.prototype.callEventHooksArray=function(t,e){var n,i=[];for(n=0;n<t.length;n++)i.push(this.callEventHooks(t[n],e));return i},i.prototype.callEventHooks=function(t,e){var n,i,r,a;if(e=e||[],(0,o.isArray)(t))return this.callEventHooksArray(t,e);if(!t["@type"])return t;for(a=0;a<e.length;a++)if(n=e[a],i=(0,o.objectKeys)(n)[0].toLowerCase(),"all"===i||i===t["@type"].toLowerCase())try{r=n[i](t),r&&(t=r)}catch(t){(0,s.debug)("plugins.js: A pulse2 sdk plugin failed: "+t,this.opts.debugMode)}return t},i.prototype.callSdkHooks=function(t,e){var n;if("object"===("undefined"==typeof e?"undefined":r(e))&&"object"===("undefined"==typeof t?"undefined":r(t)))for(n=0;n<e.length;n++)try{e[n](t)}catch(t){(0,s.debug)("plugins.js: A pulse2 event plugin failed: "+t,this.opts.debugMode)}},i.prototype.on=function(t,e,n){var i={};t&&e&&(n?i[n]=e:i=e,this.hooks[t].push(i))},i.prototype.off=function(t,e,n){if(t)return e?void(this.hooks[t]=this.hooks[t].filter(function(t){return n?t[n]!==e:t!==e})):void(this.hooks[t]=[])},e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.envVars={dataCollectorUrl:"https://collector.schibsted.io/api/v1/track",userServiceUrl:"https://cis.schibsted.com/api/v1/identify",errorReportingUrl:""}},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("Activity needed");this.activity=t,this.reducedEvent=e,this.schema={},this.type=null,this.actor={},this.device={},this.provider={},this.object={},this.origin={},this.location={},this.tracker={},this.initSchema()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0);i.prototype.initSchema=function(){this.schema["@id"]=(0,r.getUuidV4)(),this.activity.opts.intent&&(this.schema.intent=this.activity.opts.intent),this.schema.pageViewId=this.activity.pageViewId,this.schema.creationDate=(0,r.getTimestamp)(),this.schema.schema="http://schema.schibsted.com/events/tracker-event.json/92.json",!this.activity.opts.deployStage||"dev"!==this.activity.opts.deployStage&&"pre"!==this.activity.opts.deployStage||(this.schema.deployStage=this.activity.opts.deployStage,this.activity.opts.deployTag&&(this.schema.deployTag=this.activity.opts.deployTag)),this.createTracker(),this.createDevice(),this.createProvider(),this.createObject(),this.createOrigin(),this.createLocation(),this.createExperiments(),this.addCustomData()},i.prototype.populateSchema=function(){this.schema["@type"]=this.type,this.schema.subtype=this.subtype,this.schema.action=this.action,this.schema.tracker=this.tracker,this.schema.device=this.device,this.schema.provider=this.provider,this.schema.object=this.object,this.schema.origin=this.origin,this.schema.location=this.location,this.actor&&this.actor.hasOwnProperty("@id")&&(this.schema.actor=this.actor),this.target&&(this.schema.target=this.target),this.result&&(this.schema.result=this.result),this.scrollPosition&&(this.schema.scrollPosition=this.scrollPosition),this.duration&&(this.schema.duration=this.duration),this.custom&&(this.schema.custom=this.custom),this.experiments&&(this.schema.experiments=this.experiments)},i.prototype.createDevice=function(){if(!this.reducedEvent){this.device.deviceType=(0,r.getDeviceType)(navigator.userAgent),this.device.acceptLanguage=(0,r.getDeviceLanguage)(),this.device.screenSize=window.screen.width+"x"+window.screen.height,this.device.userAgent=navigator.userAgent,this.device.viewportSize=(0,r.getViewportDimensions)();try{(0,r.checkLocalStorage)(),this.device.localStorageEnabled=!0}catch(t){this.device.localStorageEnabled=!1}}},i.prototype.createObject=function(){this.object["spt:custom"]={}},i.prototype.createOrigin=function(){},i.prototype.createTracker=function(){this.tracker.version=this.activity.version,this.tracker.type="JS",this.reducedEvent||this.extendedTrackerData()},i.prototype.extendedTrackerData=function(){this.tracker.performance={},this.tracker.name="Pulse v2 tracker JS SDK",window&&window.performance&&(this.tracker.performance.browser={},this.tracker.performance.browser=window.performance.timing)},i.prototype.createLocation=function(){this.activity.opts&&this.activity.opts.location&&(this.location["@type"]="Place",this.location.latitude=this.activity.opts.location.latitude,this.location.longitude=this.activity.opts.location.longitude,this.location.accuracy=this.activity.opts.location.accuracy)},i.prototype.createExperiments=function(t){if(t||this.activity.opts&&this.activity.opts.experiments&&0!==this.activity.opts.experiments.length){t=t||this.activity.opts.experiments,this.experiments=[];for(var e=0;e<t.length;e++){var n=t[e];n&&n.id&&n.variant&&this.experiments.push({"@type":"Experiment","@id":(0,r.getSdrnIdWithContentType)(n.platform||this.activity.opts.clientId,"experiment",n.id),variant:n.variant,layer:n.layer})}}},i.prototype.createProvider=function(){this.provider["@type"]="Organization",this.provider["@id"]=this.activity.clientId,this.provider.url=document.URL,this.provider.product=this.activity.opts.product||this.activity.opts.clientId,this.provider.productType=this.activity.opts.productType,this.provider.component=this.activity.opts.component},i.prototype.addCustomData=function(){this.activity.opts&&(this.addCustomDataToProperty(this.provider,this.activity.opts.provider),this.addCustomDataToProperty(this.object["spt:custom"],this.activity.opts.object))},i.prototype.addCustomDataToProperty=function(t,e){var n;for(n in e)t.hasOwnProperty(n)||(t[n]=e[n])},i.prototype.getSchema=function(){return this.populateSchema(),this.schema},i.prototype.getString=function(){return JSON.stringify(this.getSchema())},e.default=i},function(t,e,n){"use strict";function i(t,e){this.opts=t,this.plugins=e,this.registerTriggers()}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(1);i.prototype.registerTriggers=function(){
this.plugins&&this.plugins.on(this.plugins.sdkLoad,this.getUrlTriggers)},i.prototype.getUrlTriggers=function(t){var e,n,i,s,a,u,c=(0,r.getUrlParams)("p2param");for(n=0;n<c.length;n++){for(u={},s=c[n].split("."),i=s.slice(2),a=0;a<i.length;a++)try{i[a]=i[a].split("_"),u[i[a][0]]=i[a][1]}catch(t){(0,o.debug)("trigger.js: An error occurred while reading URL param: "+t,this.opts.debugMode)}e=t.events.trackCustomEvent(null,s[0],u),e.data.object.name=s[1],e.data.object["@id"]+=":elementId:"+s[1],e.send()}},e.default=i},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t){t=t||{},this.idObj={},this.cookieKey="_pulse2data",this.envCookieKey="_pulse2env",this.cookiesAllowed=navigator.cookieEnabled,this.anonIdPlaceholder="x",this.opts=t,this.userIdDomain=t.userIdDomain||"schibsted.com",this.userId=this.opts.userId,this.userId||(delete this.userId,delete this.opts.userId),this.visitorIdPlaceholder="v",this.redirectString="https://cis.schibsted.com/redirect/?redirectUrl="+document.location,this.userServiceUrl=t.userServiceUrl||d.envVars.userServiceUrl,this.transport=t.transport||new u.default,this.referenceUrls=null,this.noRedirect=!0,this.doValidation=!1,this.shouldSyncWithAn=!1,this.shouldFetchFromAn=!1,this.hasCookie=!1,this.anSyncUrl="https://secure.adnxs.com/getuidj",this.doTracking=!0,this.anSyncStatus="nothing has happened",this.didSync=!1,"undefined"!=typeof t.noRedirect&&(this.noRedirect=t.noRedirect)}Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),a=n(9),u=r(a),c=n(8),d=i(c);o.prototype.getUserId=function(t){var e;return t=t||function(){},e=this.getIdsFromCookie(),this.userId&&(e.userId=this.createUserIdWithSdrn(this.userId)),this.mapUserData(e),this.idObj.envId?t(null,this.idObj):this.syncIdsWithServer(t)},o.prototype.syncIdsWithServer=function(t){var e=this;t=t||function(){},!this.idObj.envId||this.userStatusHasChanged()||this.doValidation||setTimeout(function(){return e.doAppNexusSync()},2e3),this.doValidation!==!0&&this.idObj.envId||this.didSync!==!1||(this.didSync=!0,this.getIdsFromService({envId:!this.idObj.jwe&&this.idObj.envId,jwe:this.idObj.jwe,userId:this.idObj.userId},function(n,i){return e.onIdServiceResponse(n,i,t)})),this.doValidation=!1,this.doAppNexusSync(null,function(){return t(null,e.idObj)})},o.prototype.replaceCookieValue=function(t,e){var n=this.getIdsFromCookie(t,e);this.mapUserData(n),this.syncIdsWithServer(),this.setIdsInCookie()},o.prototype.mapUserData=function(t){var e,n,i=["undefined","false","0","","null"];this.idObj.userId=t.userId||this.idObj.userId,this.idObj.envId=t.environmentId||t.envId,this.idObj.altEnvIds=t.altEnvIds||this.idObj.altEnvIds,this.idObj.prevUserId=t.prevUserId,this.idObj.anId=t.anId||this.idObj.anId,this.idObj.jwe=this.opts.jwe||t.jwe||this.idObj.jwe,this.idObj.pixelInjected=t.pixelInjected||null,this.idObj.adId=t.adId||this.idObj.adId||null,t.doAnSync&&(this.shouldSyncWithAn=t.doAnSync),this.doTracking=this.resolveDoTracking(t.doTracking),this.idObj.userId&&(e=this.idObj.userId.split(":"),n=e[e.length-1],i.indexOf(n)>=0&&delete this.idObj.userId),this.setIdsInCookie()},o.prototype.setIdsInCookie=function(){var t,e=this.idObj.userId||this.anonIdPlaceholder,n=new Date,i=new Date,r=new Date,o=n.getTime();this.idObj.envId&&(n.setTime(o+9e5),i.setTime(o+144e5),r.setTime(o+63072e6),t=[this.idObj.envId,this.visitorIdPlaceholder,e,n.getTime(),this.idObj.jwe,this.idObj.anId,i.getTime(),this.doTracking.toString(),this.idObj.pixelInjected,this.idObj.adId],(0,s.deleteCookie)(this.cookieKey,document.domain),(0,s.writeCookie)(this.cookieKey,t,(0,s.broadenDomain)(document.domain),r.toUTCString()),this.idObj.altEnvIds&&(0,s.writeCookie)(this.envCookieKey,JSON.stringify(this.idObj.altEnvIds),(0,s.broadenDomain)(document.domain),r.toUTCString()))},o.prototype.getIdsFromCookie=function(t,e){var n,i,r=t||(0,s.getCookie)(this.cookieKey),o=e||(0,s.getCookie)(this.envCookieKey);if(!r||r.indexOf("undefined")!==-1)return(0,s.deleteCookie)(this.cookieKey),this.shouldSyncWithAn=!0,{};if(n=r.split(","),n.length<2)return(0,s.deleteCookie)(this.cookieKey),{};if(n[3]&&(0,s.dateNow)()>parseInt(n[3],10)&&(this.doValidation=!0,this.hasCookie=!0),n[6]&&(0,s.dateNow)()>parseInt(n[6],10)&&(this.shouldSyncWithAn=!0,this.doValidation=!1),n[5]&&"unresolved"!==n[8]||(n[8]="unresolved",this.shouldFetchFromAn=!0),i={environmentId:n[0],prevUserId:n[2],jwe:n[4],anId:n[5],doTracking:n[7],pixelInjected:n[8],adId:n[9]},o)try{i.altEnvIds=JSON.parse(o)}catch(t){}return i},o.prototype.getIdsFromService=function(t,e){var n=this,i=this.userServiceUrl,r=3,o={userId:t.userId,jwe:t.jwe};t.envId&&(o.environmentId=t.envId),t.anId&&(o.anId=t.anId),this.opts.waitForOptOut&&(o.waitForOptOut=this.opts.waitForOptOut),this.hasCookie&&(r=1),this.transport.post(i,o,function(t,i){var r;return t?void e(t):(r=JSON.parse(i.response||i.responseText),r.data.anid&&"0"!==r.data.anid||(r.data.doAnSync=!0),n.mapUserData(r.data),void e(null,r.data))},!0,r)},o.prototype.onIdServiceResponse=function(t,e,n){return t?void n(t):(e&&e.crossReference&&Array.isArray(e.crossReference)&&(this.referenceUrls=e.crossReference),this.hasCookie?(this.hasCookie=!1,n(null,this.idObj)):n(null,this.idObj))},o.prototype.userStatusHasChanged=function(){var t=this.idObj.userId,e=this.idObj.prevUserId;return!!e&&(t&&e!==t.toString()||!t&&e!==this.anonIdPlaceholder)},o.prototype.doAppNexusSync=function(t,e){var n=this;return e=e||function(){},this.shouldFetchFromAn?(this.shouldFetchFromAn=!1,void this.transport.get(this.anSyncUrl,null,function(t,i){var r,o;return t?e(t,i):(r=JSON.parse(i.response||i.responseText),o={jwe:n.idObj.jwe,userId:n.idObj.userId,anId:r.uid},n.idObj.anId=r.uid,n.mapUserData(n.idObj),n.setAnIdResolved(),n.getIdsFromService(o,function(t,i){return n.onIdServiceResponse(t,i,e)}),e())},1,!0)):t},o.prototype.setAnIdUnresolved=function(){this.idObj.pixelInjected="unresolved",this.setIdsInCookie(this.idObj)},o.prototype.setAnIdResolved=function(){this.idObj.pixelInjected=null,this.setIdsInCookie(this.idObj)},o.prototype.getTheUserId=function(){return this.createUserIdWithSdrn(this.idObj.userId)},o.prototype.getTheEnvironmentId=function(){return this.idObj.envId},o.prototype.getTheJwe=function(){return this.idObj.jwe},o.prototype.getTheAdId=function(){return this.idObj.adId},o.prototype.createUserIdWithSdrn=function(t,e){return!t||String(t).indexOf("undefined")>-1?e:String(t).indexOf("sdrn:")>-1?t:"sdrn:"+this.userIdDomain+":user:"+t},o.prototype.resolveDoTracking=function(t){return t===!0||"true"===t||1===t||t!==!1&&"false"!==t&&0!==t&&this.doTracking},e.default=o},function(t,e,n){n(82),t.exports=n(2).Array.filter},function(t,e,n){n(83),t.exports=n(2).Array.map},function(t,e,n){n(84),t.exports=n(2).Function.bind},function(t,e,n){n(85),t.exports=n(2).Object.assign},function(t,e,n){var i=n(5);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(26),r=n(27),o=n(79);t.exports=function(t){return function(e,n,s){var a,u=i(e),c=r(u.length),d=o(s,c);if(t&&n!=n){for(;c>d;)if(a=u[d++],a!=a)return!0}else for(;c>d;d++)if((t||d in u)&&u[d]===n)return t||d||0;return!t&&-1}}},function(t,e,n){var i=n(5),r=n(69),o=n(81)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,n){var i=n(62);t.exports=function(t,e){return new(i(t))(e)}},function(t,e,n){"use strict";var i=n(16),r=n(5),o=n(68),s=[].slice,a={},u=function(t,e,n){if(!(e in a)){for(var i=[],r=0;r<e;r++)i[r]="a["+r+"]";a[e]=Function("F,a","return new F("+i.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=i(this),n=s.call(arguments,1),a=function(){var i=n.concat(s.call(arguments));return this instanceof a?u(e,i.length,i):o(e,i,t)};return r(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var i=n(5),r=n(4).document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){t.exports=!n(10)&&!n(7)(function(){return 7!=Object.defineProperty(n(65)("div"),"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(18);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){"use strict";var i=n(74),r=n(72),o=n(75),s=n(28),a=n(11),u=Object.assign;t.exports=!u||n(7)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){for(var n=s(t),u=arguments.length,c=1,d=r.f,l=o.f;u>c;)for(var p,h=a(arguments[c++]),f=d?i(h).concat(d(h)):i(h),g=f.length,v=0;g>v;)l.call(h,p=f[v++])&&(n[p]=h[p]);return n}:u},function(t,e,n){var i=n(60),r=n(67),o=n(80),s=Object.defineProperty;e.f=n(10)?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(21),r=n(26),o=n(61)(!1),s=n(78)("IE_PROTO");t.exports=function(t,e){var n,a=r(t),u=0,c=[];for(n in a)n!=s&&i(a,n)&&c.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var i=n(73),r=n(66);t.exports=Object.keys||function(t){return i(t,r)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(4),r=n(22),o=n(21),s=n(12)("src"),a="toString",u=Function[a],c=(""+u).split(a);n(2).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,a){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,s)||r(n,s,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:a?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,a,function(){return"function"==typeof this&&this[s]||u.call(this)})},function(t,e,n){var i=n(23)("keys"),r=n(12);t.exports=function(t){return i[t]||(i[t]=r(t))}},function(t,e,n){var i=n(25),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},function(t,e,n){var i=n(5);t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(23)("wks"),r=n(12),o=n(4).Symbol,s="function"==typeof o,a=t.exports=function(t){return i[t]||(i[t]=s&&o[t]||(s?o:r)("Symbol."+t))};a.store=i},function(t,e,n){"use strict";var i=n(6),r=n(17)(2);i(i.P+i.F*!n(24)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,n){"use strict";var i=n(6),r=n(17)(1);i(i.P+i.F*!n(24)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,n){var i=n(6);i(i.P,"Function",{bind:n(64)})},function(t,e,n){var i=n(6);i(i.S+i.F,"Object",{assign:n(70)})},function(t,e,n){"use strict";t.exports=function(t){var e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=t.offsetHeight-e.bottom+n;return i<=0?0:Math.min(i,t.offsetHeight)}},function(t,e,n){var i=n(90),r=n(91),o=[n(88)];t.exports=i.createStore(r,o)},function(t,e,n){function i(){return n(89),{}}t.exports=i},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(t){return t<10?"0"+t:t}function this_value(){return this.valueOf()}function quote(t){return rx_escapable.lastIndex=0,rx_escapable.test(t)?'"'+t.replace(rx_escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var n,i,r,o,s,a=gap,u=e[t];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(t)),"function"==typeof rep&&(u=rep.call(e,t,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)s[n]=str(n,u)||"null";return r=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,r}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=rep[n],r=str(i,u),r&&s.push(quote(i)+(gap?": ":":")+r));else for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(r=str(i,u),r&&s.push(quote(i)+(gap?": ":":")+r));return r=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,r}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(t,e,n){var i;if(gap="",indent="","number"==typeof n)for(i=0;i<n;i+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(t,e){var n,i,r=t[e];if(r&&"object"==typeof r)for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i=walk(r,n),void 0!==i?r[n]=i:delete r[n]);return reviver.call(t,e,r)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(t,e,n){function i(t,e){var n={_seenPlugins:[],_namespacePrefix:"",_namespaceRegexp:null,_legalNamespace:/^[a-zA-Z0-9_\-]+$/,_storage:function(){if(!this.enabled)throw new Error("store.js: No supported storage has been added! Add one (e.g store.addStorage(require('store/storages/cookieStorage')) or use a build with more built-in storages (e.g https://github.com/marcuswestin/store.js/tree/master/dist/store.legacy.min.js)");return this._storage.resolved},_testStorage:function(t){try{var e="__storejs__test__";t.write(e,e);var n=t.read(e)===e;return t.remove(e),n}catch(t){return!1}},_assignPluginFnProp:function(t,e){var n=this[e];this[e]=function(){function e(){if(n)return a(arguments,function(t,e){i[e]=t}),n.apply(r,i)}var i=o(arguments,0),r=this,s=[e].concat(i);return t.apply(r,s)}},_serialize:function(t){return JSON.stringify(t)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e}},i=u(n,p);return a(t,function(t){i.addStorage(t)}),a(e,function(t){i.addPlugin(t)}),i}var r=n(3),o=r.slice,s=r.pluck,a=r.each,u=r.create,c=r.isList,d=r.isFunction,l=r.isObject;t.exports={createStore:i};var p={version:"2.0.4",enabled:!1,storage:null,addStorage:function(t){this.enabled||this._testStorage(t)&&(this._storage.resolved=t,this.enabled=!0,this.storage=t.name)},addPlugin:function(t){var e=this;if(c(t))return void a(t,function(t){e.addPlugin(t)});var n=s(this._seenPlugins,function(e){return t===e});if(!n){if(this._seenPlugins.push(t),!d(t))throw new Error("Plugins must be function values that return objects");var i=t.call(this);if(!l(i))throw new Error("Plugins must return an object of function properties");a(i,function(n,i){if(!d(n))throw new Error("Bad plugin property: "+i+" from plugin "+t.name+". Plugins should only return functions.");e._assignPluginFnProp(n,i)})}},get:function(t,e){var n=this._storage().read(this._namespacePrefix+t);return this._deserialize(n,e)},set:function(t,e){return void 0===e?this.remove(t):(this._storage().write(this._namespacePrefix+t,this._serialize(e)),e)},remove:function(t){this._storage().remove(this._namespacePrefix+t)},each:function(t){var e=this;this._storage().each(function(n,i){t(e._deserialize(n),i.replace(e._namespaceRegexp,""))})},clearAll:function(){this._storage().clearAll()},hasNamespace:function(t){return this._namespacePrefix=="__storejs_"+t+"_"},namespace:function(t){if(!this._legalNamespace.test(t))throw new Error("store.js namespaces can only have alhpanumerics + underscores and dashes");var e="__storejs_"+t+"_";return u(this,{_namespacePrefix:e,_namespaceRegexp:e?new RegExp("^"+e):null})},createStore:function(t,e){return i(t,e)}}},function(t,e,n){t.exports={localStorage:n(93),"oldFF-globalStorage":n(95),"oldIE-userDataStorage":n(96),cookieStorage:n(92),sessionStorage:n(97),memoryStorage:n(94)}},function(t,e,n){function i(t){if(!t||!u(t))return null;var e="(?:^|.*;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(p.cookie.replace(new RegExp(e),"$1"))}function r(t){for(var e=p.cookie.split(/; ?/g),n=e.length-1;n>=0;n--)if(l(e[n])){var i=e[n].split("="),r=unescape(i[0]),o=unescape(i[1]);t(o,r)}}function o(t,e){t&&(p.cookie=escape(t)+"="+escape(e)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function s(t){t&&u(t)&&(p.cookie=escape(t)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function a(){r(function(t,e){s(e)})}function u(t){return new RegExp("(?:^|;\\s*)"+escape(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(p.cookie)}var c=n(3),d=c.Global,l=c.trim;t.exports={name:"cookieStorage",read:i,write:o,each:r,remove:s,clearAll:a};var p=d.document},function(t,e,n){function i(){return d.localStorage}function r(t){return i().getItem(t)}function o(t,e){return i().setItem(t,e)}function s(t){for(var e=i().length-1;e>=0;e--){var n=i().key(e);t(r(n),n)}}function a(t){return i().removeItem(t)}function u(){return i().clear()}var c=n(3),d=c.Global;t.exports={name:"localStorage",read:r,write:o,each:s,remove:a,clearAll:u}},function(t,e){function n(t){return a[t]}function i(t,e){a[t]=e}function r(t){for(var e in a)a.hasOwnProperty(e)&&t(a[e],e)}function o(t){delete a[t]}function s(t){a={}}t.exports={name:"memoryStorage",read:n,write:i,each:r,remove:o,clearAll:s};var a={}},function(t,e,n){function i(t){return d[t]}function r(t,e){d[t]=e}function o(t){for(var e=d.length-1;e>=0;e--){var n=d.key(e);t(d[n],n)}}function s(t){return d.removeItem(t)}function a(){o(function(t,e){delete d[t]})}var u=n(3),c=u.Global;t.exports={name:"oldFF-globalStorage",read:i,write:r,each:o,remove:s,clearAll:a};var d=c.globalStorage},function(t,e,n){function i(t,e){if(!g){var n=u(t);f(function(t){t.setAttribute(n,e),t.save(p)})}}function r(t){if(!g){var e=u(t),n=null;return f(function(t){n=t.getAttribute(e)}),n}}function o(t){f(function(e){for(var n=e.XMLDocument.documentElement.attributes,i=n.length-1;i>=0;i--){var r=n[i];t(e.getAttribute(r.name),r.name)}})}function s(t){var e=u(t);f(function(t){t.removeAttribute(e),t.save(p)})}function a(){f(function(t){var e=t.XMLDocument.documentElement.attributes;t.load(p);for(var n=e.length-1;n>=0;n--)t.removeAttribute(e[n].name);t.save(p)})}function u(t){return t.replace(/^\d/,"___$&").replace(v,"___")}function c(){if(!h||!h.documentElement||!h.documentElement.addBehavior)return null;var t,e,n,i="script";try{e=new ActiveXObject("htmlfile"),e.open(),e.write("<"+i+">document.w=window</"+i+'><iframe src="/favicon.ico"></iframe>'),e.close(),t=e.w.frames[0].document,n=t.createElement("div")}catch(e){n=h.createElement("div"),t=h.body}return function(e){var i=[].slice.call(arguments,0);i.unshift(n),t.appendChild(n),n.addBehavior("#default#userData"),n.load(p),e.apply(this,i),t.removeChild(n)}}var d=n(3),l=d.Global;t.exports={name:"oldIE-userDataStorage",write:i,read:r,each:o,remove:s,clearAll:a};var p="storejs",h=l.document,f=c(),g=(l.navigator?l.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./),v=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g")},function(t,e,n){function i(){return d.sessionStorage}function r(t){return i().getItem(t)}function o(t,e){return i().setItem(t,e)}function s(t){for(var e=i().length-1;e>=0;e--){var n=i().key(e);t(r(n),n)}}function a(t){return i().removeItem(t)}function u(){return i().clear()}var c=n(3),d=c.Global;t.exports={name:"sessionStorage",read:r,write:o,each:s,remove:a,clearAll:u}},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent("_pulse2debug").replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||!1;return t}Object.defineProperty(e,"__esModule",{value:!0});var s=n(31);Object.keys(s).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})});var a,u=n(32),c=r(u),d=i(s),l=n(8),p=i(l),h=n(1),f={},g=!1;o()&&(g=!0),"undefined"!=typeof pulse2opt?f=pulse2opt:"undefined"!=typeof _opt?f=_opt:(0,h.debug)("init.js: Could not find pulse2opt global variable",g),(0,h.debug)("bootstrapping Pulse",g),f.debugMode=g;try{a=f.cookieSyncUrl||p.envVars.cookieSyncUrl,d.initTracking(f),a&&c.default.initCookieSync({url:a,userId:f.userId})}catch(t){(0,h.debug)("init.js: Pulse2 init failed: "+t,g)}}])});var pulse2config = {
    "client": "vgtv",
    "config": [
        {
            "throttle": 1,
            "dataCollector": "https://collector.schibsted.io/api/v1/track",
            "cis": "https://cis.schibsted.com/api/v1/identify"
        }
    ]
}
;